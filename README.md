# yadon-agents

デスクトップにヤドンたちが住み着いて、コーディングを手伝ってくれるマルチエージェントシステム。

ヤドキング（opus）に話しかけると、ヤドラン（sonnet）がタスクを分解し、ヤドンたち（haiku）が並列で実作業を行う。PyQt6環境ではドット絵のデスクトップペットが表示され、作業状況を吹き出しで教えてくれる。

```
トレーナー（人間）
  │ 直接会話
  ▼
┌──────────────────┐
│   ヤドキング       │  claude --model opus（対話型）
└──────┬───────────┘
       │ Unix socket
       ▼
┌──────────────────┐
│   ヤドラン        │  claude -p (sonnet) でタスク分解 → ヤドンに配分
└──┬───┬───┬───┬──┘
   ▼   ▼   ▼   ▼
┌──┐ ┌──┐ ┌──┐ ┌──┐
│Y1│ │Y2│ │..│ │YN│  claude -p (haiku) で並列実行
└──┘ └──┘ └──┘ └──┘
```

| ポケモン | モデル | 役割 |
|----------|--------|------|
| ヤドキング | opus | 戦略統括、最終レビュー、人間との対話 |
| ヤドラン | sonnet | タスクを3フェーズに分解、ヤドンへの並列配分 |
| ヤドン×N | haiku | 実作業（コーディング、テスト、ドキュメント、レビュー） |

## セットアップ

### 1. Claude Code をインストール

[Claude Code](https://docs.anthropic.com/en/docs/claude-code) の手順に従い、`claude` CLI をインストール・認証する。

```bash
claude  # 初回起動で認証
```

### 2. リポジトリをクローン

```bash
git clone https://github.com/ida29/yadon-agents.git
cd yadon-agents
```

### 3. PyQt6 をインストール（任意）

デスクトップペットを表示する場合のみ必要。なくてもデーモンモードで動作する。

```bash
pip install PyQt6
```

## 起動

```bash
./start.sh
```

これだけで以下が順に起動する:

1. ヤドン1〜N（デスクトップペット or デーモン）
2. ヤドラン（デスクトップペット or デーモン）
3. ヤドキング（`claude --model opus` — 対話型、現在のターミナル）

ヤドキングのプロンプトが表示されたら、自然言語でタスクを依頼するだけ。ヤドキング終了時にデーモン+ペットも自動停止する。

```bash
# 作業ディレクトリを指定（デフォルト: カレントディレクトリ）
./start.sh /path/to/project

# ヤドンの数を変更（デフォルト4、範囲1-8）
YADON_COUNT=6 ./start.sh

# 手動停止
./stop.sh
```

## 仕組み

1. 人間がヤドキングに依頼（例: 「認証機能を追加して」）
2. ヤドキングがヤドランにタスクを送信
3. ヤドランがタスクを3フェーズに分解（implement → docs → review）
4. 各フェーズ内のサブタスクをヤドンたちが並列実行
5. 結果がヤドラン → ヤドキングへ返却され、人間に報告

## ライセンス

Private
